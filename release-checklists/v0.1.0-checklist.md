# v0.1.0 Release Checklist

This checklist is organized into three categories based on who/what executes the tests.

---

## Category 1: CI Tests (Fully Automatic)

These run automatically on every push/PR via GitHub Actions.

- [x] Backend lint passes (`ruff check .`)
- [x] Backend type check passes (`mypy app --ignore-missing-imports`)
- [x] Backend tests pass (`pytest -v --tb=short`) - 56 passed
- [x] Frontend lint passes (`npm run lint`) - 0 errors, 18 warnings
- [x] Frontend build passes (`npm run build`)
- [x] Docker image builds successfully

**Verify at:** https://github.com/seethroughlab/familliar/actions

---

## Category 2: Claude Code Automated Tests

These tests can be run and evaluated locally by Claude Code. They don't require human judgment.

### 2.1 Docker Environment

- [x] Containers start: `docker compose -f docker/docker-compose.local.yml up -d`
- [x] All services show "Up" and "healthy": `docker compose -f docker/docker-compose.local.yml ps`
- [x] No critical errors in logs (scan "no music" message expected without library)

### 2.2 API Health Checks

- [x] Health endpoint returns `{"status": "healthy"}`
- [x] Tracks endpoint responds (returns empty array without music)

### 2.3 Settings API

- [x] Get settings returns object
- [x] Profiles list returns array

### 2.4 Library Scan API

- [x] Scan starts: `{"status": "started"}`
- [x] Scan status returns: `{"status": "idle"}` or progress

### 2.5 Backend Tests (Local)

- [x] All pytest tests pass (56 passed in 0.85s)

### 2.6 Frontend Build (Local)

- [x] Build completes without errors (2.25s)

---

## Category 3: Human Testing Required

These tests require human senses, judgment, or interactive browser use.

### 3.1 Audio Playback

- [ ] Click a track - audio plays
- [ ] Audio sounds correct (not distorted, correct speed)
- [ ] Play/pause button toggles playback
- [ ] Progress bar shows current position
- [ ] Clicking progress bar seeks to that position
- [ ] Volume slider changes volume
- [ ] Next/previous track buttons work
- [ ] Gapless playback between tracks (no gaps or clicks)
- [ ] Shuffle mode randomizes order
- [ ] Repeat mode loops track/playlist

### 3.2 Visual Elements

- [ ] Album artwork displays correctly
- [ ] UI loads without visual glitches
- [ ] Visualizer responds to audio frequencies
- [ ] Visualizer fullscreen mode works
- [ ] Queue displays correctly
- [ ] Library grid/list views work

### 3.3 AI Chat

- [ ] Add Anthropic API key in Admin panel
- [ ] Key saves successfully (no error)
- [ ] Send message: "Play something upbeat"
- [ ] AI responds and creates playlist
- [ ] Playlist starts playing automatically
- [ ] Chat shows helpful error if no API key configured

### 3.4 Spotify Integration

- [ ] Add Spotify client ID/secret in Admin panel
- [ ] "Connect to Spotify" button appears after saving
- [ ] OAuth flow opens Spotify login
- [ ] After auth, shows "Connected as [username]"
- [ ] "Sync Favorites" starts sync task with progress
- [ ] Matched/unmatched counts display after sync
- [ ] Disconnect button works

### 3.5 Last.fm Integration

- [ ] Add Last.fm API key/secret in Admin panel
- [ ] "Connect Last.fm" button appears after saving
- [ ] OAuth flow completes
- [ ] Shows "Connected as [username]"
- [ ] Play a track for 30+ seconds
- [ ] Check last.fm profile - scrobble appears

### 3.6 Playlists

- [ ] Create new playlist (button works)
- [ ] Add tracks to playlist via UI
- [ ] Rename playlist
- [ ] Delete playlist
- [ ] AI-generated playlists appear in list
- [ ] Drag to reorder tracks in playlist

### 3.7 Profiles

- [ ] Create a new profile
- [ ] Upload profile avatar image
- [ ] Rename profile
- [ ] Switch between profiles
- [ ] Delete profile (except last one blocked)

### 3.8 PWA & Offline

- [ ] Install app prompt appears (requires HTTPS)
- [ ] App installs to home screen/desktop
- [ ] Cache a playlist for offline
- [ ] Disconnect network
- [ ] Cached tracks still play
- [ ] Media controls on lock screen work

### 3.9 Listening Sessions (WebRTC) - DEFERRED TO v0.1.1

> **Note:** Listening sessions require a public signaling server to work remotely.
> Feature is hidden in v0.1.0 UI. Re-enable when signaling server is deployed.

### 3.10 Platform Testing

- [ ] Docker on x86 Linux/Mac/Windows
- [ ] OpenMediaVault installation per README
- [ ] Synology NAS via Container Manager
- [ ] ARM64 with `DISABLE_CLAP_EMBEDDINGS=true`

---

## Pre-Release Final Checks

- [x] CHANGELOG.md updated with all changes since last release
- [x] README.md is accurate and up-to-date
- [ ] No console errors in browser DevTools
- [ ] No ERROR level logs in container output
- [x] CI passes on master branch
- [ ] Git tag created: `git tag v0.1.0`
- [ ] GitHub release created with release notes
